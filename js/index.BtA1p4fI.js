import{B as e,s as o,r as t,I as a,u as n,b3 as l,U as u}from"./index.C4XHQ947.js";function i(u,{beforeFocus:i,afterFocus:s,beforeBlur:r,afterBlur:c}={}){const d=e(),{emit:v}=d,m=o(),p=t(!1),f=e=>{!!l(i)&&i(e)||p.value||(p.value=!0,v("focus",e),null==s||s())},b=e=>{var o;!!l(r)&&r(e)||e.relatedTarget&&(null==(o=m.value)?void 0:o.contains(e.relatedTarget))||(p.value=!1,v("blur",e),null==c||c())};return a(m,(e=>{e&&e.setAttribute("tabindex","-1")})),n(m,"focus",f,!0),n(m,"blur",b,!0),n(m,"click",(()=>{var e,o;(null==(e=m.value)?void 0:e.contains(document.activeElement))&&m.value!==document.activeElement||null==(o=u.value)||o.focus()}),!0),{isFocused:p,wrapperRef:m,handleFocus:f,handleBlur:b}}function s({afterComposition:e,emit:o}){const a=t(!1),n=e=>{var t;null==o||o("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},l=t=>{null==o||o("compositionend",t),a.value&&(a.value=!1,u((()=>e(t))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?l(e):n(e)},handleCompositionStart:e=>{null==o||o("compositionstart",e),a.value=!0},handleCompositionUpdate:n,handleCompositionEnd:l}}export{s as a,i as u};
