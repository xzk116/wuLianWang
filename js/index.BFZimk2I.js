import{d as e,r as o,S as a,o as t,g as r,f as i,C as s,m as l,w as p,$ as m,i as n,a0 as d,W as u,e as j,h as c,an as f}from"./index.C4XHQ947.js";import{v as g}from"./loading.BmtaAxB7.js";import{E as h}from"./card.BiRPT1LQ.js";import{_ as b}from"./index.DFbtX2SK.js";import{a as w,E as _}from"./table-column.diEZPI-c.js";import"./checkbox.CmADlFKQ.js";/* empty css                */import"./popper.DyOsyU0d.js";import"./scrollbar.BohePXPP.js";/* empty css            */import{E as x,a as y}from"./form-item.ClXYt8Tp.js";import{E as v}from"./button.D2DEk6fY.js";import{E as k}from"./date-picker.C3eAOTjW.js";import{E as U}from"./input.acwFxw-O.js";import{L as T}from"./log.api.8ARYkUYz.js";import"./pagination.Cd-kf_Q4.js";import"./select.BjtaYayC.js";import"./index.Dws5OK1z.js";import"./use-form-common-props.g5CCADeT.js";import"./token.DWNpOE8r.js";import"./strings.DfZTWvp0.js";import"./castArray.BlrEgLSE.js";import"./isEqual.DRNAkb0Y.js";import"./_Uint8Array.DWUdcecF.js";import"./_arrayPush.81Ix0M9y.js";import"./index.BtA1p4fI.js";import"./error.D_Dr4eZ1.js";import"./event.BwRzfsZt.js";import"./scroll.Tblv70v8.js";import"./debounce.B-wgC4Nx.js";import"./_baseIteratee.DBVoi9B7.js";import"./index.LcwZUvgm.js";import"./index.CpXLvEZo.js";import"./index.DLtoAZtP.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_initCloneObject.DCnv6bQV.js";import"./index.BZB15hwD.js";import"./isUndefined.DgmxjSXK.js";import"./dayjs.min.DSjR6_Gu.js";import"./index.CPgzIetu.js";import"./index.BbvO-npD.js";const E={class:"app-container"},V={class:"search-bar"},N=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const N=o(),P=o(!1),S=o(0),Y=a({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),z=o();function A(){P.value=!0,T.getPage(Y).then((e=>{z.value=e.list,S.value=e.total})).finally((()=>{P.value=!1}))}function C(){N.value.resetFields(),Y.pageNum=1,Y.createTime=void 0,A()}return t((()=>{A()})),(e,o)=>{const a=U,t=x,T=k,q=v,F=y,I=_,L=w,M=b,D=h,K=g;return i(),r("div",E,[s("div",V,[l(F,{ref_key:"queryFormRef",ref:N,model:n(Y),inline:!0},{default:p((()=>[l(t,{prop:"keywords",label:"关键字"},{default:p((()=>[l(a,{modelValue:n(Y).keywords,"onUpdate:modelValue":o[0]||(o[0]=e=>n(Y).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(A,["enter"])},null,8,["modelValue"])])),_:1}),l(t,{prop:"createTime",label:"操作时间"},{default:p((()=>[l(T,{modelValue:n(Y).createTime,"onUpdate:modelValue":o[1]||(o[1]=e=>n(Y).createTime=e),editable:!1,class:"!w-[240px]",type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),l(t,null,{default:p((()=>[l(q,{type:"primary",icon:"search",onClick:A},{default:p((()=>o[5]||(o[5]=[d("搜索")]))),_:1}),l(q,{icon:"refresh",onClick:C},{default:p((()=>o[6]||(o[6]=[d("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),l(D,{shadow:"never"},{default:p((()=>[u((i(),j(L,{data:n(z),"highlight-current-row":"",border:""},{default:p((()=>[l(I,{label:"操作时间",prop:"createTime",width:"180"}),l(I,{label:"操作人",prop:"operator",width:"120"}),l(I,{label:"日志模块",prop:"module",width:"100"}),l(I,{label:"日志内容",prop:"content","min-width":"200"}),l(I,{label:"IP 地址",prop:"ip",width:"150"}),l(I,{label:"地区",prop:"region",width:"150"}),l(I,{label:"浏览器",prop:"browser",width:"150"}),l(I,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),l(I,{label:"执行时间(ms)",prop:"executionTime",width:"150"})])),_:1},8,["data"])),[[K,n(P)]]),n(S)>0?(i(),j(M,{key:0,total:n(S),"onUpdate:total":o[2]||(o[2]=e=>f(S)?S.value=e:null),page:n(Y).pageNum,"onUpdate:page":o[3]||(o[3]=e=>n(Y).pageNum=e),limit:n(Y).pageSize,"onUpdate:limit":o[4]||(o[4]=e=>n(Y).pageSize=e),onPagination:A},null,8,["total","page","limit"])):c("",!0)])),_:1})])}}});export{N as default};
