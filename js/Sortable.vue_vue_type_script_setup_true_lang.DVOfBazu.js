import{an as e,dA as o,U as a,d as t,r as s,dd as n,s as l,e as i,f as r,w as d,C as u,g as m,P as p,Q as c,F as f,m as v,a0 as x}from"./index.Cr6LiOEA.js";import{E as g}from"./dialog.BH52fNWr.js";import"./overlay.DfyPIl-k.js";import{E as y}from"./button.DA5Tbsy5.js";import{d as b,u as j}from"./index.dRJDrlgA.js";import{S as h}from"./sortable.esm.BWBWMTnl.js";import{a as _,b as w}from"./index.BOjm_ZH6.js";function C(t,s,n={}){let l;const{document:i=b,...r}=n,d={onUpdate:t=>{!function(t,s,n,l=null){null!=l&&((i=l.item).parentNode&&i.parentNode.removeChild(i),function(e,o,a){const t=e.children[a];e.insertBefore(o,t)}(l.from,l.item,s));var i;const r=e(t),d=r?[...o(t)]:o(t);if(n>=0&&n<d.length){const e=d.splice(s,1)[0];a((()=>{d.splice(n,0,e),r&&(t.value=d)}))}}(s,t.oldIndex,t.newIndex,t)}},u=()=>{const e="string"==typeof t?null==i?void 0:i.querySelector(t):j(t);e&&void 0===l&&(l=new h(e,{...d,...r}))},m=()=>{null==l||l.destroy(),l=void 0};return _(u),w(m),{stop:m,start:u,option:(e,o)=>{if(void 0===o)return null==l?void 0:l.option(e);null==l||l.option(e,o)}}}const S={style:{"user-select":"none"}},k={ref:"tableRef",class:"flex flex-col gap-2 p-4 w-300px h-200px m-auto bg-gray-500/5 rounded"},N={class:"text-center"},U={class:"dialog-footer"},V=t({__name:"Sortable",setup(e,{expose:o}){const t=s(!1),b=n("tableRef"),j=l([{id:1,name:"a"},{id:2,name:"b"},{id:3,name:"c"}]),h=e=>{t.value=!1};return o({init:()=>{t.value=!0,a((()=>{C(b,j,{animation:150})}))}}),(e,o)=>{const a=y,s=g;return r(),i(s,{modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=e=>t.value=e),title:"拖拽案例",width:"700","before-close":h},{footer:d((()=>[u("div",U,[v(a,{onClick:o[0]||(o[0]=e=>t.value=!1)},{default:d((()=>o[4]||(o[4]=[x("取消")]))),_:1}),v(a,{type:"primary",onClick:o[1]||(o[1]=e=>t.value=!1)},{default:d((()=>o[5]||(o[5]=[x(" 确定 ")]))),_:1})])])),default:d((()=>[u("div",S,[o[3]||(o[3]=u("p",null,"仅支持单个列表的拖拽排序",-1)),u("div",k,[(r(!0),m(p,null,c(j.value,(e=>(r(),m("div",{key:e.id,class:"h20 bg-gray-500/5 rounded p-3"},f(e.name),1)))),128))],512),u("div",N,f(JSON.stringify(j.value)),1)])])),_:1},8,["modelValue"])}}});export{V as _};
