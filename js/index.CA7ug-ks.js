import{d as e,r as o,S as a,o as t,g as r,f as i,C as s,m as p,w as l,$ as m,i as n,a0 as d,W as u,e as j,h as c,an as f}from"./index.Cr6LiOEA.js";import{v as g}from"./loading.CFJObRpB.js";import{E as h}from"./card.DhEG11kG.js";import{_ as b}from"./index.BBtp-5Qp.js";import{a as w,E as _}from"./table-column.BGZIw_Ze.js";import"./checkbox.RcPxOF1z.js";/* empty css                */import"./popper.DUX4kj8Y.js";import"./scrollbar.DoWNx_1N.js";/* empty css            */import{E as x,a as y}from"./form-item.Btm0Q9hg.js";import{E as v}from"./button.DA5Tbsy5.js";import{E as k}from"./date-picker.m-dRXpxw.js";import{E}from"./input.CzloNZpJ.js";import{L as T}from"./log.api.hK83NxGF.js";import"./pagination.Ebz52tf3.js";import"./select.C7S9XW27.js";import"./index.VWfgG_0m.js";import"./use-form-common-props.DIXoHrYE.js";import"./token.DWNpOE8r.js";import"./strings.DfrRI7Q-.js";import"./castArray.DJP_EBIZ.js";import"./isEqual.pX8OdxIr.js";import"./_Uint8Array.DfZsIPxq.js";import"./_arrayPush.SNmfCKIy.js";import"./index.BMVWqwaD.js";import"./error.D_Dr4eZ1.js";import"./event.BwRzfsZt.js";import"./scroll.CcTW0uGs.js";import"./debounce.Dg9vSzn3.js";import"./_baseIteratee.B9ewaKQs.js";import"./index.BRcqeMdH.js";import"./index.CYXsNDMI.js";import"./index.CQ7fRGMW.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_initCloneObject.Bij3KvOA.js";import"./index.B8EKF3Rk.js";import"./isUndefined.DgmxjSXK.js";import"./index.BTKOuuO-.js";import"./dayjs.min.Bwp5PyAm.js";import"./index.DdqAEKj-.js";import"./index.CSj7d93O.js";const U={class:"app-container"},V={class:"search-bar"},S=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const S=o(),Y=o(!1),z=o(0),C=a({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),N=o();function P(){Y.value=!0,T.getPage(C).then((e=>{N.value=e.list,z.value=e.total})).finally((()=>{Y.value=!1}))}function A(){S.value.resetFields(),C.pageNum=1,C.createTime=void 0,P()}return t((()=>{P()})),(e,o)=>{const a=E,t=x,T=k,D=v,I=y,L=_,M=w,q=b,F=h,K=g;return i(),r("div",U,[s("div",V,[p(I,{ref_key:"queryFormRef",ref:S,model:n(C),inline:!0},{default:l((()=>[p(t,{prop:"keywords",label:"关键字"},{default:l((()=>[p(a,{modelValue:n(C).keywords,"onUpdate:modelValue":o[0]||(o[0]=e=>n(C).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(P,["enter"])},null,8,["modelValue"])])),_:1}),p(t,{prop:"createTime",label:"操作时间"},{default:l((()=>[p(T,{modelValue:n(C).createTime,"onUpdate:modelValue":o[1]||(o[1]=e=>n(C).createTime=e),editable:!1,class:"!w-[240px]",type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),p(t,null,{default:l((()=>[p(D,{type:"primary",icon:"search",onClick:P},{default:l((()=>o[5]||(o[5]=[d("搜索")]))),_:1}),p(D,{icon:"refresh",onClick:A},{default:l((()=>o[6]||(o[6]=[d("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),p(F,{shadow:"never"},{default:l((()=>[u((i(),j(M,{data:n(N),"highlight-current-row":"",border:""},{default:l((()=>[p(L,{label:"操作时间",prop:"createTime",width:"180"}),p(L,{label:"操作人",prop:"operator",width:"120"}),p(L,{label:"日志模块",prop:"module",width:"100"}),p(L,{label:"日志内容",prop:"content","min-width":"200"}),p(L,{label:"IP 地址",prop:"ip",width:"150"}),p(L,{label:"地区",prop:"region",width:"150"}),p(L,{label:"浏览器",prop:"browser",width:"150"}),p(L,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),p(L,{label:"执行时间(ms)",prop:"executionTime",width:"150"})])),_:1},8,["data"])),[[K,n(Y)]]),n(z)>0?(i(),j(q,{key:0,total:n(z),"onUpdate:total":o[2]||(o[2]=e=>f(z)?z.value=e:null),page:n(C).pageNum,"onUpdate:page":o[3]||(o[3]=e=>n(C).pageNum=e),limit:n(C).pageSize,"onUpdate:limit":o[4]||(o[4]=e=>n(C).pageSize=e),onPagination:P},null,8,["total","page","limit"])):c("",!0)])),_:1})])}}});export{S as default};
