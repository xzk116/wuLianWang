import{d as e,r as a,S as t,o,g as r,f as i,C as s,m as l,w as p,$ as m,i as n,a0 as d,W as u,e as c,h as j,ap as f}from"./index.Bdx57Nvo.js";import{v as h}from"./loading.qN4DKDVA.js";import{E as g}from"./card.DqeKYViA.js";import{_ as b}from"./index.zA-kIaL7.js";import{a as w,E as _}from"./table-column.BJBkPsVT.js";import"./checkbox.CmkPFs0m.js";/* empty css                */import"./popper.BetgDmx3.js";import"./scrollbar.Ip3XyYmo.js";/* empty css            */import{E as x,a as y}from"./form-item.7dQGSzU4.js";import{E as v}from"./button.LGaK1jld.js";import{E as k}from"./date-picker.BSOS8yeo.js";import{E}from"./input.D9xsxC-0.js";import{L as T}from"./log.api.BdmWtctl.js";import"./pagination.sLX_PZMd.js";import"./select.CWJTqBU0.js";import"./index.CrdRuGb_.js";import"./use-form-common-props.-C4karON.js";import"./token.DWNpOE8r.js";import"./strings.Cqk1uXaf.js";import"./error.CyCUjvb8.js";import"./castArray.BuPO9lZa.js";import"./isEqual.BTbKpHwm.js";import"./_Uint8Array.BFNk7mlV.js";import"./index.CTYv1_3j.js";import"./event.BwRzfsZt.js";import"./scroll.-GEVI1ZE.js";import"./debounce.eFArwHq3.js";import"./_baseIteratee.JqiprTGS.js";import"./index.J8hpH-gv.js";import"./index.gwnqa2TR.js";import"./index.BVhO0Zkv.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_initCloneObject.BTqpUCJz.js";import"./index.DARAO3XZ.js";import"./dayjs.min.C6Y36gqV.js";import"./index.BsfAUxdw.js";import"./index.CVpnqn2V.js";const U={class:"app-container"},V={class:"search-container"},C=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const C=a(),N=a(!1),Y=a(0),z=t({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),A=a();function M(){N.value=!0,T.getPage(z).then((e=>{A.value=e.list,Y.value=e.total})).finally((()=>{N.value=!1}))}function P(){z.pageNum=1,M()}function S(){C.value.resetFields(),z.pageNum=1,z.createTime=void 0,M()}return o((()=>{P()})),(e,a)=>{const t=E,o=x,T=k,q=v,D=y,F=_,L=w,I=b,K=g,W=h;return i(),r("div",U,[s("div",V,[l(D,{ref_key:"queryFormRef",ref:C,model:n(z),inline:!0},{default:p((()=>[l(o,{prop:"keywords",label:"关键字"},{default:p((()=>[l(t,{modelValue:n(z).keywords,"onUpdate:modelValue":a[0]||(a[0]=e=>n(z).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(P,["enter"])},null,8,["modelValue"])])),_:1}),l(o,{prop:"createTime",label:"操作时间"},{default:p((()=>[l(T,{modelValue:n(z).createTime,"onUpdate:modelValue":a[1]||(a[1]=e=>n(z).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD",style:{width:"200px"}},null,8,["modelValue"])])),_:1}),l(o,{class:"search-buttons"},{default:p((()=>[l(q,{type:"primary",icon:"search",onClick:P},{default:p((()=>a[5]||(a[5]=[d("搜索")]))),_:1}),l(q,{icon:"refresh",onClick:S},{default:p((()=>a[6]||(a[6]=[d("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),l(K,{shadow:"hover",class:"data-table"},{default:p((()=>[u((i(),c(L,{data:n(A),"highlight-current-row":"",border:"",class:"data-table__content"},{default:p((()=>[l(F,{label:"操作时间",prop:"createTime",width:"180"}),l(F,{label:"操作人",prop:"operator",width:"120"}),l(F,{label:"日志模块",prop:"module",width:"100"}),l(F,{label:"日志内容",prop:"content","min-width":"200"}),l(F,{label:"IP 地址",prop:"ip",width:"150"}),l(F,{label:"地区",prop:"region",width:"150"}),l(F,{label:"浏览器",prop:"browser",width:"150"}),l(F,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),l(F,{label:"执行时间(ms)",prop:"executionTime",width:"150"})])),_:1},8,["data"])),[[W,n(N)]]),n(Y)>0?(i(),c(I,{key:0,total:n(Y),"onUpdate:total":a[2]||(a[2]=e=>f(Y)?Y.value=e:null),page:n(z).pageNum,"onUpdate:page":a[3]||(a[3]=e=>n(z).pageNum=e),limit:n(z).pageSize,"onUpdate:limit":a[4]||(a[4]=e=>n(z).pageSize=e),onPagination:M},null,8,["total","page","limit"])):j("",!0)])),_:1})])}}});export{C as default};
