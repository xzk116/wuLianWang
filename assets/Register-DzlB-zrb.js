import{d as e,ak as a,o as r,r as o,c as s,bI as l,ar as i,g as t,f as d,C as n,m as p,F as m,i as u,w as c,E as g,$ as f,bJ as h,e as w,ap as v,a0 as _,aD as x}from"./index-B60e1Ob1.js";import{E as j}from"./text-CXiZVvjx.js";import{E as y,a as b}from"./form-item-CpNjKhI7.js";import{E as V}from"./button-BQFE7Hxd.js";import{E as C}from"./link-Btg56Krl.js";import{E as k}from"./checkbox-ButTqhkT.js";/* empty css                */import{E as q}from"./popper-Cr74CpMj.js";import{E}from"./input-BjkV2ehM.js";import"./use-form-common-props-DzatJoKf.js";import"./castArray-DIYUzhyo.js";import"./error-D_Dr4eZ1.js";import"./index-BTKOuuO-.js";import"./Uint8Array-BxLyAKQm.js";import"./arrayPush-BunhweDl.js";import"./initCloneObject-DFzMR-ez.js";import"./index-Y9kMV7A1.js";import"./index-DQUN-yv0.js";import"./event-BwRzfsZt.js";import"./isEqual-Jbd1hhxH.js";import"./index-DnpUs-gR.js";import"./isUndefined-DgmxjSXK.js";import"./index-D-5y8sGu.js";import"./index-cSPsX4IU.js";const K={"text-center":"","m-0":"","mb-20px":""},U={flex:""},M=["src"],P={class:"flex-y-center w-full gap-10px"},A={"flex-center":"","gap-10px":""},L=e({__name:"Register",emits:["update:modelValue"],setup(e,{emit:L}){const{t:z}=a(),B=L,I=()=>B("update:modelValue","login");r((()=>X()));const J=o(),R=o(!1),$=o(!1),D=o(),F=o(!1),G=o({username:"admin",password:"123456",confirmPassword:"",captchaKey:"",captchaCode:"",rememberMe:!1}),O=s((()=>({username:[{required:!0,trigger:"blur",message:z("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:z("login.message.password.required")},{min:6,message:z("login.message.password.min"),trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:z("login.message.password.required")},{min:6,message:z("login.message.password.min"),trigger:"blur"},{validator:(e,a)=>a===G.value.password,trigger:"blur",message:z("login.message.password.inconformity")}],captchaCode:[{required:!0,trigger:"blur",message:z("login.message.captchaCode.required")}]}))),S=o(!1);function X(){S.value=!0,l.getCaptcha().then((e=>{G.value.captchaKey=e.captchaKey,D.value=e.captchaBase64})).finally((()=>S.value=!1))}function H(e){e instanceof KeyboardEvent&&($.value=e.getModifierState("CapsLock"))}const N=async()=>{var e;await(null==(e=J.value)?void 0:e.validate()),x.warning("开发中 ...")};return(e,a)=>{const r=i("User"),o=g,s=E,l=y,x=q,L=i("Loading"),B=k,Q=C,T=V,W=b,Y=j;return d(),t("div",null,[n("h3",K,m(u(z)("login.reg")),1),p(W,{ref_key:"formRef",ref:J,model:u(G),rules:u(O),size:"large"},{default:c((()=>[p(l,{prop:"username"},{default:c((()=>[p(s,{modelValue:u(G).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(G).username=e),modelModifiers:{trim:!0},placeholder:u(z)("login.username")},{prefix:c((()=>[p(o,null,{default:c((()=>[p(r)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),p(x,{visible:u($),content:u(z)("login.capsLock"),placement:"right"},{default:c((()=>[p(l,{prop:"password"},{default:c((()=>[p(s,{modelValue:u(G).password,"onUpdate:modelValue":a[1]||(a[1]=e=>u(G).password=e),modelModifiers:{trim:!0},placeholder:u(z)("login.password"),type:"password","show-password":"",onKeyup:[H,f(N,["enter"])]},{prefix:c((()=>[p(o,null,{default:c((()=>[p(u(h))])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1})])),_:1},8,["visible","content"]),p(x,{visible:u($),content:u(z)("login.capsLock"),placement:"right"},{default:c((()=>[p(l,{prop:"confirmPassword"},{default:c((()=>[p(s,{modelValue:u(G).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>u(G).confirmPassword=e),modelModifiers:{trim:!0},placeholder:u(z)("login.message.password.confirm"),type:"password","show-password":"",onKeyup:[H,f(N,["enter"])]},{prefix:c((()=>[p(o,null,{default:c((()=>[p(u(h))])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1})])),_:1},8,["visible","content"]),p(l,{prop:"captchaCode"},{default:c((()=>[n("div",U,[p(s,{modelValue:u(G).captchaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>u(G).captchaCode=e),modelModifiers:{trim:!0},placeholder:u(z)("login.captchaCode"),onKeyup:f(N,["enter"])},{prefix:c((()=>a[5]||(a[5]=[n("div",{class:"i-svg:captcha"},null,-1)]))),_:1},8,["modelValue","placeholder"]),n("div",{"cursor-pointer":"",h:"[40px]",w:"[120px]","flex-center":"","ml-10px":"",onClick:X},[u(S)?(d(),w(o,{key:0,class:"is-loading"},{default:c((()=>[p(L)])),_:1})):(d(),t("img",{key:1,"object-cover":"","border-rd-4px":"","p-1px":"",shadow:"[0_0_0_1px_var(--el-border-color)_inset]",src:u(D),alt:"code"},null,8,M))])])])),_:1}),p(l,null,{default:c((()=>[n("div",P,[p(B,{modelValue:u(F),"onUpdate:modelValue":a[4]||(a[4]=e=>v(F)?F.value=e:null)},{default:c((()=>[_(m(u(z)("login.agree")),1)])),_:1},8,["modelValue"]),p(Q,{type:"primary",underline:"never"},{default:c((()=>[_(m(u(z)("login.userAgreement")),1)])),_:1})])])),_:1}),p(l,null,{default:c((()=>[p(T,{loading:u(R),type:"success",class:"w-full",onClick:N},{default:c((()=>[_(m(u(z)("login.register")),1)])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"]),n("div",A,[p(Y,{size:"default"},{default:c((()=>[_(m(u(z)("login.haveAccount")),1)])),_:1}),p(Q,{type:"primary",underline:"never",onClick:I},{default:c((()=>[_(m(u(z)("login.login")),1)])),_:1})])])}}});export{L as default};
