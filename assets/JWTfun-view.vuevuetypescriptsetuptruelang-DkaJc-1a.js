import{c as e,dJ as a,d as t,r,s as n,e as l,f as o,w as s,C as i,m as u,F as c,i as p,a0 as d,U as f}from"./index-DSziQnuV.js";import{E as m}from"./dialog-BQ6Fa7RT.js";import"./overlay-udDLy5PP.js";import{E as h}from"./button-C7Up_MI4.js";import{E as g}from"./input-D_4L03e6.js";class y extends Error{}function w(e){let a=e.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,a)=>{let t=a.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(a)}catch(t){return atob(a)}}function v(t,r={}){const{onError:n,fallbackValue:l=null}=r,o=(e,a)=>{try{return function(e,a){if("string"!=typeof e)throw new y("Invalid token specified: must be a string");a||(a={});const t=!0===a.header?0:1,r=e.split(".")[t];if("string"!=typeof r)throw new y(`Invalid token specified: missing part #${t+1}`);let n;try{n=w(r)}catch(l){throw new y(`Invalid token specified: invalid base64 for part #${t+1} (${l.message})`)}try{return JSON.parse(n)}catch(l){throw new y(`Invalid token specified: invalid json for part #${t+1} (${l.message})`)}}(e,a)}catch(t){return null==n||n(t),l}};return{header:e((()=>o(a(t),{header:!0}))),payload:e((()=>o(a(t))))}}y.prototype.name="InvalidTokenError";const b={lang:"json",class:"ml-2"},I={lang:"json",class:"ml-2"},J={class:"dialog-footer"},k=t({__name:"JWTfun-view",setup(e,{expose:a}){const t=r(!1),y=n("eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiWFpLIiwiYWRtaW4iOnRydWV9.EJdWnf4ybuF312pOZReoO914aqwEBO6FCCuSE_LBPp3AWdUaDFzyzIqvsAyz0c_DZf4t2mVplepzw_z47JIj6g"),{header:w,payload:k}=v(y),j=e=>{t.value=!1};return a({init:()=>{t.value=!0,f((()=>{}))}}),(e,a)=>{const r=g,n=h,f=m;return o(),l(f,{modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value=e),title:"JWT的生成和验证",width:"700","before-close":j},{footer:s((()=>[i("div",J,[u(n,{onClick:a[1]||(a[1]=e=>t.value=!1)},{default:s((()=>a[7]||(a[7]=[d("取消")]))),_:1}),u(n,{type:"primary",onClick:a[2]||(a[2]=e=>t.value=!1)},{default:s((()=>a[8]||(a[8]=[d(" 确定 ")]))),_:1})])])),default:s((()=>[i("div",null,[a[4]||(a[4]=i("a",{href:"https://www.lddgo.net/encrypt/jwt-generate",target:"_blank",class:"text-blue-600"},"点击前往生成JWT工具",-1)),u(r,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),type:"textarea",rows:6,placeholder:"请输入JWT",class:"my-2"},null,8,["modelValue"]),a[5]||(a[5]=i("p",null,"头(基础参数)",-1)),i("p",b,c(JSON.stringify(p(w),null,2)),1),a[6]||(a[6]=i("p",null,"有效载荷",-1)),i("p",I,c(JSON.stringify(p(k),null,2)),1)])])),_:1},8,["modelValue"])}}});export{k as _};
