import{d as e,r as a,S as l,e as o,f as r,w as t,m,i as d,a0 as u,g as s,P as i,Q as p,C as n,dg as f,U as g}from"./index-D_4mb3Vt.js";import{E as c}from"./dialog-Dr69udxU.js";import"./overlay-BxRxSiXw.js";import{E as b}from"./button-CWW6AGHt.js";import{a as V,E as v}from"./form-item-CmfG4XHp.js";/* empty css            */import{E as z,a as _}from"./select-UjV5mHDL.js";import"./scrollbar-BpSSelpP.js";import"./popper-DC4-MAEs.js";import{E as h,a as x}from"./radio-group-DHOE7uMH.js";/* empty css              */import{E as j}from"./input-DJ1hrWmu.js";const y={class:"dialog-footer"},k=e({__name:"index-add-or-update",emits:["refreshDataList"],setup(e,{expose:k,emit:U}){const q=a(!1),w=U;let E=a(),N=a({id:"",username:"",nickname:"",gender:1,deptName:"",mobile:"",email:"",yzz:"",xzz:""}),C=a([{name:"测试",val:"测试"},{name:"开发",val:"开发"},{name:"运维",val:"运维"}]);const A=f((()=>{E.value.validate((e=>{e&&Z()}))}),1e3),Z=e=>{q.value=!1,w("refreshDataList")},D=l({username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{min:1,max:50,message:"只能输入1~50个字符",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}],deptName:[{required:!0,message:"部门不能为空",trigger:"change"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{pattern:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,message:"请输入正确的邮箱地址",trigger:"blur"}],xzz:[{required:!0,message:"现住址不能为空",trigger:"blur"},{min:1,max:50,message:"只能输入1~50个字符",trigger:"blur"}]});return k({init:e=>{q.value=!0,N.value.id=(null==e?void 0:e.id)||"",g((()=>{E.value.resetFields(),N.value.id&&(N.value=e)}))}}),(e,a)=>{const l=j,f=v,g=x,k=h,U=_,w=z,F=V,L=b,P=c;return r(),o(P,{modelValue:q.value,"onUpdate:modelValue":a[9]||(a[9]=e=>q.value=e),title:d(N).id?"修改":"新增",width:"700","before-close":Z},{footer:t((()=>[n("div",y,[m(L,{onClick:a[8]||(a[8]=e=>q.value=!1)},{default:t((()=>a[12]||(a[12]=[u("取消")]))),_:1}),m(L,{type:"primary",onClick:d(A)},{default:t((()=>a[13]||(a[13]=[u(" 确定 ")]))),_:1},8,["onClick"])])])),default:t((()=>[m(F,{model:d(N),"label-width":"120px",rules:d(D),ref_key:"formRef",ref:E},{default:t((()=>[m(f,{label:"用户名",prop:"username"},{default:t((()=>[m(l,{modelValue:d(N).username,"onUpdate:modelValue":a[0]||(a[0]=e=>d(N).username=e),autocomplete:"off",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),m(f,{label:"昵称",prop:"nickname"},{default:t((()=>[m(l,{modelValue:d(N).nickname,"onUpdate:modelValue":a[1]||(a[1]=e=>d(N).nickname=e),autocomplete:"off",placeholder:"请输入昵称"},null,8,["modelValue"])])),_:1}),m(f,{label:"性别",prop:"gender"},{default:t((()=>[m(k,{modelValue:d(N).gender,"onUpdate:modelValue":a[2]||(a[2]=e=>d(N).gender=e)},{default:t((()=>[m(g,{value:1},{default:t((()=>a[10]||(a[10]=[u("男")]))),_:1}),m(g,{value:2},{default:t((()=>a[11]||(a[11]=[u("女")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),m(f,{label:"部门",prop:"deptName"},{default:t((()=>[m(w,{modelValue:d(N).deptName,"onUpdate:modelValue":a[3]||(a[3]=e=>d(N).deptName=e),placeholder:"请选择部门"},{default:t((()=>[(r(!0),s(i,null,p(d(C),(e=>(r(),o(U,{key:e.val,label:e.name,value:e.val},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(f,{label:"手机号",prop:"mobile"},{default:t((()=>[m(l,{modelValue:d(N).mobile,"onUpdate:modelValue":a[4]||(a[4]=e=>d(N).mobile=e),autocomplete:"off",placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),m(f,{label:"邮箱",prop:"email"},{default:t((()=>[m(l,{modelValue:d(N).email,"onUpdate:modelValue":a[5]||(a[5]=e=>d(N).email=e),autocomplete:"off",placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),m(f,{label:"原住址",prop:"yzz"},{default:t((()=>[m(l,{modelValue:d(N).yzz,"onUpdate:modelValue":a[6]||(a[6]=e=>d(N).yzz=e),type:"textarea",rows:4,autocomplete:"off",placeholder:"请输入原住址"},null,8,["modelValue"])])),_:1}),m(f,{label:"现住址",prop:"xzz"},{default:t((()=>[m(l,{modelValue:d(N).xzz,"onUpdate:modelValue":a[7]||(a[7]=e=>d(N).xzz=e),type:"textarea",rows:4,autocomplete:"off",placeholder:"请输入现住址"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])}}});export{k as _};
