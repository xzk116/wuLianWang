import{ap as e,dJ as o,U as a,d as t,r as s,dn as n,s as l,e as i,f as r,w as d,C as u,g as m,P as p,Q as c,F as f,m as v,a0 as x}from"./index-DSziQnuV.js";import{E as b}from"./dialog-BQ6Fa7RT.js";import"./overlay-udDLy5PP.js";import{E as g}from"./button-C7Up_MI4.js";import{d as y,u as h}from"./index-BQHasSWk.js";import{S as j}from"./sortable.esm-BWBWMTnl.js";import{a as w,b as _}from"./index-BQTgTAEK.js";function C(t,s,n={}){let l;const{document:i=y,...r}=n,d={onUpdate:t=>{!function(t,s,n,l=null){null!=l&&((i=l.item).parentNode&&i.parentNode.removeChild(i),function(e,o,a){const t=e.children[a];e.insertBefore(o,t)}(l.from,l.item,s));var i;const r=e(t),d=r?[...o(t)]:o(t);if(n>=0&&n<d.length){const e=d.splice(s,1)[0];a((()=>{d.splice(n,0,e),r&&(t.value=d)}))}}(s,t.oldIndex,t.newIndex,t)}},u=()=>{const e="string"==typeof t?null==i?void 0:i.querySelector(t):h(t);e&&void 0===l&&(l=new j(e,{...d,...r}))},m=()=>{null==l||l.destroy(),l=void 0};return w(u),_(m),{stop:m,start:u,option:(e,o)=>{if(void 0===o)return null==l?void 0:l.option(e);null==l||l.option(e,o)}}}const S={style:{"user-select":"none"}},k={ref:"tableRef",class:"flex flex-col gap-2 p-4 w-300px h-200px m-auto bg-gray-500/5 rounded"},N={class:"text-center"},U={class:"dialog-footer"},V=t({__name:"Sortable-view",setup(e,{expose:o}){const t=s(!1),y=n("tableRef"),h=l([{id:1,name:"a"},{id:2,name:"b"},{id:3,name:"c"}]),j=e=>{t.value=!1};return o({init:()=>{t.value=!0,a((()=>{C(y,h,{animation:150})}))}}),(e,o)=>{const a=g,s=b;return r(),i(s,{modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=e=>t.value=e),title:"拖拽案例",width:"700","before-close":j},{footer:d((()=>[u("div",U,[v(a,{onClick:o[0]||(o[0]=e=>t.value=!1)},{default:d((()=>o[4]||(o[4]=[x("取消")]))),_:1}),v(a,{type:"primary",onClick:o[1]||(o[1]=e=>t.value=!1)},{default:d((()=>o[5]||(o[5]=[x(" 确定 ")]))),_:1})])])),default:d((()=>[u("div",S,[o[3]||(o[3]=u("p",null,"仅支持单个列表的拖拽排序",-1)),u("div",k,[(r(!0),m(p,null,c(h.value,(e=>(r(),m("div",{key:e.id,class:"h20 bg-gray-500/5 rounded p-3"},f(e.name),1)))),128))],512),u("div",N,f(JSON.stringify(h.value)),1)])])),_:1},8,["modelValue"])}}});export{V as _};
