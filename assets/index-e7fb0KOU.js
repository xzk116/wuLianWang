import{d as e,r as a,S as l,o as t,bs as o,g as r,f as i,m as s,w as n,C as m,i as p,$ as d,a0 as u,W as c,e as b,h as g,F as j,ap as f,dg as z,U as y,aD as v}from"./index-DSziQnuV.js";import{v as _}from"./loading-CqLmPx5m.js";import{E as k}from"./row-mLadHPR7.js";import{E as x}from"./card-CfSCBuR2.js";import{_ as h}from"./index-D0ElKzQu.js";import{a as w,E as q}from"./table-column-fu0ct9eX.js";import"./checkbox-B7SKh14S.js";/* empty css                */import"./popper-DHP-3sL9.js";import"./scrollbar-DYr97Iof.js";/* empty css            */import{a as N,E as C}from"./form-item-KQdH7sAR.js";import{E}from"./button-C7Up_MI4.js";import{E as U}from"./date-picker-C8jB-m67.js";import{E as V}from"./input-D_4L03e6.js";import{E as S,a as T}from"./select-CFTeQWq_.js";import{_ as D}from"./index-add-or-update.vuevuetypescriptsetuptruelang-C7DiRJRz.js";import{E as Y}from"./message-box-B5UR-wc0.js";import"./overlay-udDLy5PP.js";import"./pagination-BZ3x0HpO.js";import"./isEqual-B1bdoCHH.js";import"./Uint8Array-D1agcFrL.js";import"./arrayPush-CxkFiuna.js";import"./event-BwRzfsZt.js";import"./index-Cc2Wt9br.js";import"./error-D_Dr4eZ1.js";import"./plugin-vueexport-helper-BCo6x5W8.js";import"./initCloneObject-ZHHcYhkn.js";import"./index-DxF_qbyk.js";import"./baseIteratee-BiNeSYmz.js";import"./debounce-DyUGShxj.js";import"./index-BHGvjKTd.js";import"./use-form-common-props-DTSnFox3.js";import"./index-DhXL-iGK.js";import"./isUndefined-DgmxjSXK.js";import"./castArray-B4HcIjKE.js";import"./index-BTKOuuO-.js";import"./dayjs.min-Cjrjr3wu.js";import"./index-BJMPfn1O.js";import"./index-DaL6D1om.js";import"./index-CbXSMke7.js";import"./index-B_42Xuad.js";import"./token-DWNpOE8r.js";import"./strings-YYSSxYMC.js";import"./scroll-rXNl9IWL.js";import"./dialog-BQ6Fa7RT.js";import"./use-dialog-CrIUeSMM.js";import"./refs-ZusHwDAC.js";import"./radio-group-Baahrv9t.js";/* empty css              */import"./validator-27Hd9dNk.js";import"./vnode-B4qYOBiq.js";const F={class:"app-container"},P={class:"search-container"},R={class:"data-table__toolbar"},A={class:"data-table__toolbar--actions"},B={class:"data-table__toolbar--tools"},I=e({__name:"index",setup(e){let I=a(),M=l({pageNum:1,pageSize:10}),O=a([]),W=a([{label:"多选",prop:""},{label:"用户名",prop:"username"},{label:"昵称",prop:"nickname"},{label:"性别",prop:"gender"},{label:"部门",prop:"deptName"},{label:"手机号码",prop:"mobile"},{label:"邮箱",prop:"email"},{label:"原住址",prop:"yzz"},{label:"现住址",prop:"xzz"},{label:"操作",prop:""}]),$=a(["username","nickname","gender","deptName"]),K=a(!1),L=a(0),Q=a([]),X=a(!1),G=a();t((()=>{J()}));let H=({rowIndex:e,columnIndex:a})=>{let l=z(O.value,W.value,$.value)[e][a];return{rowspan:l[0],colspan:l[1]}};const J=()=>{K.value=!0,setTimeout((()=>{O.value=[{id:"1",username:"admin",nickname:"超级管理员",gender:1,deptName:"开发部",mobile:"13800138000",email:"123@qq.com",yzz:"原住址1",xzz:"现住址1"},{id:"2",username:"user",nickname:"管理员",gender:1,deptName:"开发部",mobile:"13800138001",email:"123@qq.com",yzz:"原住址2",xzz:"现住址2"},{id:"3",username:"user",nickname:"管理员",gender:1,deptName:"开发部",mobile:"13800138002",email:"123@qq.com",yzz:"原住址3",xzz:"现住址3"},{id:"4",username:"user",nickname:"用户",gender:2,deptName:"测试部",mobile:"13800138003",email:"123@qq.com",yzz:"原住址4",xzz:"现住址4"},{id:"5",username:"user",nickname:"用户1",gender:2,deptName:"测试部",mobile:"13800138004",email:"123@qq.com",yzz:"原住址5",xzz:"现住址5"},{id:"6",username:"user5",nickname:"用户5",gender:2,deptName:"产品部",mobile:"1380013805",email:"123@qq.com",yzz:"原住址6",xzz:"现住址6"},{id:"7",username:"user5",nickname:"用户5",gender:2,deptName:"产品部",mobile:"13800138006",email:"123@qq.com",yzz:"原住址7",xzz:"现住址7"}],L.value=1,K.value=!1}),1e3)},Z=e=>{X.value=!0,y((()=>{G.value.init(e)}))},ee=e=>{const a=[e||Q.value].join(",");a?Y.confirm(`确认删除${a}用户?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){K.value=!0,v.success("删除成功"),oe()}),(function(){v.info("已取消删除")})):v.warning("请勾选删除项")},ae=()=>{v.warning("导入")},le=()=>{v.warning("导出")},te=()=>{M.pageNum=1,J()},oe=()=>{I.value.resetFields(),te()};let re=e=>{Q.value=e.map((e=>e.id))};return(e,a)=>{const l=V,t=C,z=T,y=S,v=U,Y=E,W=N,$=q,ie=w,se=h,ne=x,me=k,pe=o("hasPerm"),de=_;return i(),r("div",F,[s(me,{gutter:20},{default:n((()=>[m("div",P,[s(W,{ref_key:"queryFormRef",ref:I,model:p(M),inline:!0,"label-width":"auto"},{default:n((()=>[s(t,{prop:"keywords"},{default:n((()=>[s(l,{modelValue:p(M).keywords,"onUpdate:modelValue":a[0]||(a[0]=e=>p(M).keywords=e),placeholder:"请输入用户名/昵称/手机号",clearable:"",onKeyup:d(te,["enter"])},null,8,["modelValue"])])),_:1}),s(t,{prop:"status"},{default:n((()=>[s(y,{modelValue:p(M).status,"onUpdate:modelValue":a[1]||(a[1]=e=>p(M).status=e),placeholder:"请选择状态",clearable:"",style:{width:"200px"}},{default:n((()=>[s(z,{label:"正常",value:1}),s(z,{label:"禁用",value:0})])),_:1},8,["modelValue"])])),_:1}),s(t,{label:"创建时间"},{default:n((()=>[s(v,{modelValue:p(M).createTime,"onUpdate:modelValue":a[2]||(a[2]=e=>p(M).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),s(t,{class:"search-buttons"},{default:n((()=>[s(Y,{onClick:oe},{default:n((()=>a[8]||(a[8]=[u("重置查询")]))),_:1})])),_:1}),s(t,{class:"search-buttons"},{default:n((()=>[s(Y,{type:"primary",icon:"search",onClick:te},{default:n((()=>a[9]||(a[9]=[u("搜索")]))),_:1})])),_:1})])),_:1},8,["model"])]),s(ne,{shadow:"hover",class:"data-table"},{default:n((()=>[m("div",R,[m("div",A,[s(Y,{type:"success",icon:"plus",onClick:a[3]||(a[3]=e=>Z())},{default:n((()=>a[10]||(a[10]=[u("新增")]))),_:1}),s(Y,{type:"danger",icon:"delete",disabled:0===p(Q).length,onClick:a[4]||(a[4]=e=>ee())},{default:n((()=>a[11]||(a[11]=[u(" 删除 ")]))),_:1},8,["disabled"])]),m("div",B,[s(Y,{icon:"upload",onClick:ae},{default:n((()=>a[12]||(a[12]=[u("导入")]))),_:1}),s(Y,{icon:"download",onClick:le},{default:n((()=>a[13]||(a[13]=[u("导出")]))),_:1})])]),c((i(),b(ie,{data:p(O),border:"","highlight-current-row":"",class:"data-table__content",onSelectionChange:p(re),"span-method":p(H)},{default:n((()=>[s($,{type:"selection",width:"50",align:"center"}),s($,{label:"用户名",align:"center",prop:"username"}),s($,{label:"昵称",align:"center",prop:"nickname"}),s($,{label:"性别",align:"center",prop:"gender"},{default:n((e=>{return[u(j((a=e.row.gender,2===a?"女":1===a?"男":"")),1)];var a})),_:1}),s($,{label:"部门",align:"center",prop:"deptName"}),s($,{label:"手机号码",align:"center",prop:"mobile"}),s($,{label:"邮箱",align:"center",prop:"email"}),s($,{label:"住址",align:"center"},{default:n((()=>[s($,{label:"原住址",align:"center",prop:"yzz"}),s($,{label:"现住址",align:"center",prop:"xzz"})])),_:1}),s($,{label:"操作",align:"center",width:"220"},{default:n((e=>[c((i(),b(Y,{type:"primary",icon:"edit",link:"",size:"small",onClick:a=>Z(e.row)},{default:n((()=>a[14]||(a[14]=[u(" 修改 ")]))),_:2},1032,["onClick"])),[[pe,"sys:user:edit"]]),c((i(),b(Y,{type:"danger",icon:"delete",link:"",size:"small",onClick:a=>ee(e.row.id)},{default:n((()=>a[15]||(a[15]=[u(" 删除 ")]))),_:2},1032,["onClick"])),[[pe,"sys:user:delete"]])])),_:1})])),_:1},8,["data","onSelectionChange","span-method"])),[[de,p(K)]]),p(L)>0?(i(),b(se,{key:0,total:p(L),"onUpdate:total":a[5]||(a[5]=e=>f(L)?L.value=e:L=e),page:p(M).pageNum,"onUpdate:page":a[6]||(a[6]=e=>p(M).pageNum=e),limit:p(M).pageSize,"onUpdate:limit":a[7]||(a[7]=e=>p(M).pageSize=e),onPagination:J},null,8,["total","page","limit"])):g("",!0)])),_:1})])),_:1}),s(D,{ref_key:"addOrUpdateRef",ref:G,visible:p(X),onRefreshDataList:te},null,8,["visible"])])}}});export{I as default};
