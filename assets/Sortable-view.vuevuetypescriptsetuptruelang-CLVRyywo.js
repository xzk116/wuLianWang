import{ap as e,dF as a,U as o,d as t,r as s,di as l,s as n,e as i,f as r,w as d,C as u,g as m,P as p,Q as c,F as f,m as v,a0 as x}from"./index-B60e1Ob1.js";import{E as y}from"./dialog-LvtrGeqH.js";import"./overlay-DYY93Q8s.js";import{E as g}from"./button-BQFE7Hxd.js";import{d as b,u as h}from"./index-CGGoP6Jp.js";import{S as j}from"./sortable.esm-BWBWMTnl.js";import{a as _,b as w}from"./index-D1CUmmRp.js";function C(t,s,l={}){let n;const{document:i=b,...r}=l,d={onUpdate:t=>{!function(t,s,l,n=null){null!=n&&((i=n.item).parentNode&&i.parentNode.removeChild(i),function(e,a,o){const t=e.children[o];e.insertBefore(a,t)}(n.from,n.item,s));var i;const r=e(t),d=r?[...a(t)]:a(t);if(l>=0&&l<d.length){const e=d.splice(s,1)[0];o((()=>{d.splice(l,0,e),r&&(t.value=d)}))}}(s,t.oldIndex,t.newIndex,t)}},u=()=>{const e="string"==typeof t?null==i?void 0:i.querySelector(t):h(t);e&&void 0===n&&(n=new j(e,{...d,...r}))},m=()=>{null==n||n.destroy(),n=void 0};return _(u),w(m),{stop:m,start:u,option:(e,a)=>{if(void 0===a)return null==n?void 0:n.option(e);null==n||n.option(e,a)}}}const S={style:{"user-select":"none"}},k={ref:"tableRef",class:"flex flex-col gap-2 p-4 w-300px h-200px m-auto bg-gray-500/5 rounded"},N={class:"text-center"},U={class:"dialog-footer"},V=t({__name:"Sortable-view",setup(e,{expose:a}){const t=s(!1),b=l("tableRef"),h=n([{id:1,name:"a"},{id:2,name:"b"},{id:3,name:"c"}]),j=e=>{t.value=!1};return a({init:()=>{t.value=!0,o((()=>{C(b,h,{animation:150})}))}}),(e,a)=>{const o=g,s=y;return r(),i(s,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value=e),title:"拖拽案例",width:"700","before-close":j},{footer:d((()=>[u("div",U,[v(o,{onClick:a[0]||(a[0]=e=>t.value=!1)},{default:d((()=>a[4]||(a[4]=[x("取消")]))),_:1}),v(o,{type:"primary",onClick:a[1]||(a[1]=e=>t.value=!1)},{default:d((()=>a[5]||(a[5]=[x(" 确定 ")]))),_:1})])])),default:d((()=>[u("div",S,[a[3]||(a[3]=u("p",null,"仅支持单个列表的拖拽排序",-1)),u("div",k,[(r(!0),m(p,null,c(h.value,(e=>(r(),m("div",{key:e.id,class:"h20 bg-gray-500/5 rounded p-3"},f(e.name),1)))),128))],512),u("div",N,f(JSON.stringify(h.value)),1)])])),_:1},8,["modelValue"])}}});export{V as _};
