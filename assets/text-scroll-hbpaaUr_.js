import{d as e,r as t,bB as l,c as a,o as s,aW as r,I as i,ar as n,g as o,f as d,n as u,C as c,h as p,m as v,E as f,w as y,k as w,i as m}from"./index-D7ip52rg.js";import{_ as x}from"./plugin-vueexport-helper-BCo6x5W8.js";const _=["typewriter"],g={class:"left-icon"},h={class:"scroll-wrapper"},C=["innerHTML"],T=["innerHTML"],L=x(e({__name:"index",props:{text:{},speed:{default:70},direction:{default:"left"},type:{default:"default"},showClose:{type:Boolean,default:!1},typewriter:{type:Boolean,default:!1},typewriterSpeed:{default:100}},emits:["close"],setup(e,{emit:x}){const L=x,k=e,B=t(null),H=l(B),M=t(null),E=t(0),I=t("");let j=null;const z=t(!1),S=a((()=>k.typewriter?!H.value&&z.value:!H.value)),W=a((()=>k.typewriter?I.value:k.text)),$=a((()=>({"--animation-duration":`${E.value}s`,"--animation-play-state":S.value?"running":"paused","--animation-direction":"left"===k.direction?"normal":"reverse"}))),b=()=>{if(M.value){const e=M.value.scrollWidth/2;E.value=e/k.speed}},R=()=>{L("close"),B.value&&B.value.remove()},q=()=>{let e=0;I.value="",z.value=!1;const t=()=>{e<k.text.length?(I.value+=k.text[e],e++,j=setTimeout(t,k.typewriterSpeed)):z.value=!0};t()};return s((()=>{b(),window.addEventListener("resize",b),k.typewriter&&q()})),r((()=>{window.removeEventListener("resize",b),j&&clearTimeout(j)})),i((()=>k.text),(()=>{k.typewriter&&(j&&clearTimeout(j),q())})),(e,t)=>{const l=n("Bell"),a=f,s=n("Close");return d(),o("div",{ref_key:"containerRef",ref:B,class:u(["text-scroll-container",[`text-scroll--${k.type}`]]),typewriter:k.typewriter?"true":void 0},[c("div",g,[v(a,null,{default:y((()=>[v(l)])),_:1})]),c("div",h,[c("div",{ref_key:"scrollContent",ref:M,class:u(["text-scroll-content",{scrolling:m(S)}]),style:w(m($))},[c("div",{class:"scroll-item",innerHTML:m(W)},null,8,C),c("div",{class:"scroll-item",innerHTML:m(W)},null,8,T)],6)]),e.showClose?(d(),o("div",{key:0,class:"right-icon",onClick:R},[v(a,null,{default:y((()=>[v(s)])),_:1})])):p("",!0)],10,_)}}}),[["__scopeId","data-v-9dd3fad7"]]),k={class:"app-container"},B=x(e({__name:"text-scroll",setup:e=>(e,t)=>(d(),o("div",k,[v(L,{text:"这是一条基础的滚动公告，默认向左滚动。",typewriter:""}),v(L,{type:"success",text:"这是一条成功类型的滚动公告",typewriter:""}),v(L,{type:"warning",text:"这是一条警告类型的滚动公告"}),v(L,{type:"danger",text:"这是一条危险类型的滚动公告"}),v(L,{type:"info",text:"这是一条信息类型的滚动公告"}),v(L,{text:"这是一条速度较慢、向右滚动的公告",speed:30,direction:"right",showClose:""})]))}),[["__scopeId","data-v-28766df0"]]);export{B as default};
