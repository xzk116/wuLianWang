import{d as e,r as a,S as l,o as t,bs as o,g as r,f as i,m as s,w as n,C as m,i as p,$ as d,a0 as u,W as c,e as b,h as g,F as j,ap as f,dd as z,U as y,aD as _}from"./index-C_pscggx.js";import{v}from"./loading-BzEZtF-F.js";import{E as k}from"./row-B2YXVaSa.js";import{E as x}from"./card-BD6WhDVX.js";import{_ as h}from"./index-0xi0vq3Q.js";import{a as w,E as q}from"./table-column-DwDne2Bh.js";import"./checkbox-CGzZmvcj.js";/* empty css                */import"./popper-BIB9jUp6.js";import"./scrollbar-BLD92JNj.js";/* empty css            */import{a as C,E as N}from"./form-item-BUoGiRen.js";import{E}from"./button-D6WiEuQA.js";import{E as U}from"./date-picker-D4KvZJoM.js";import{E as V}from"./input-CgmVFiXd.js";import{E as S,a as T}from"./select-BFAQnkba.js";import{_ as D}from"./index-add-or-update.vuevuetypescriptsetuptruelang-J7ydqcMT.js";import{E as P}from"./message-box-S1cU0Zwr.js";import"./overlay-9sIzXrAB.js";import"./pagination-DACpUAG4.js";import"./isEqual-C59KlRhy.js";import"./Uint8Array-B_DHHueC.js";import"./arrayPush-UAxBxc8B.js";import"./event-BwRzfsZt.js";import"./index-C9xgaScg.js";import"./error-D_Dr4eZ1.js";import"./plugin-vueexport-helper-BCo6x5W8.js";import"./initCloneObject-aDgsBXeP.js";import"./index-Bg6QofrX.js";import"./baseIteratee-BsyF-gsk.js";import"./debounce-DKgtTNWe.js";import"./index-C39Z87XQ.js";import"./use-form-common-props-k9Y9pot7.js";import"./index-37GVKp2t.js";import"./isUndefined-DgmxjSXK.js";import"./castArray-CH9hh3R4.js";import"./index-BTKOuuO-.js";import"./dayjs.min-Bwxn5ro5.js";import"./index-GWILKUDQ.js";import"./index-BS1T2XoZ.js";import"./index-CgGV-G4I.js";import"./index-Dwsffkj1.js";import"./token-DWNpOE8r.js";import"./strings-Buxz3p9C.js";import"./scroll-BTd0uGpI.js";import"./dialog-DJrpLi5_.js";import"./use-dialog-Dtu60b6r.js";import"./refs-BKA3fZeB.js";import"./radio-group-DkO-SI3Y.js";/* empty css              */import"./vnode-C0RjJ-Dw.js";const R={class:"app-container"},Y={class:"search-container"},A={class:"data-table__toolbar"},F={class:"data-table__toolbar--actions"},I={class:"data-table__toolbar--tools"},M=e({__name:"index",setup(e){let M=a(),O=l({pageNum:1,pageSize:10}),B=a([]),L=a([{label:"多选",prop:""},{label:"用户名",prop:"username"},{label:"昵称",prop:"nickname"},{label:"性别",prop:"gender"},{label:"部门",prop:"deptName"},{label:"手机号码",prop:"mobile"},{label:"邮箱",prop:"email"},{label:"原住址",prop:"yzz"},{label:"现住址",prop:"xzz"},{label:"操作",prop:""}]),W=a(["username","nickname","gender","deptName"]),$=a(!1),K=a(0),Q=a([]),G=a(!1),H=a();t((()=>{X()}));let J=({rowIndex:e,columnIndex:a})=>{let l=z(B.value,L.value,W.value)[e][a];return{rowspan:l[0],colspan:l[1]}};const X=()=>{$.value=!0,setTimeout((()=>{B.value=[{id:"1",username:"admin",nickname:"超级管理员",gender:1,deptName:"开发部",mobile:"13800138000",email:"123@qq.com",yzz:"原住址1",xzz:"现住址1"},{id:"2",username:"user",nickname:"管理员",gender:1,deptName:"开发部",mobile:"13800138001",email:"123@qq.com",yzz:"原住址2",xzz:"现住址2"},{id:"3",username:"user",nickname:"管理员",gender:1,deptName:"开发部",mobile:"13800138002",email:"123@qq.com",yzz:"原住址3",xzz:"现住址3"},{id:"4",username:"user",nickname:"用户",gender:2,deptName:"测试部",mobile:"13800138003",email:"123@qq.com",yzz:"原住址4",xzz:"现住址4"},{id:"5",username:"user",nickname:"用户1",gender:2,deptName:"测试部",mobile:"13800138004",email:"123@qq.com",yzz:"原住址5",xzz:"现住址5"},{id:"6",username:"user5",nickname:"用户5",gender:2,deptName:"产品部",mobile:"1380013805",email:"123@qq.com",yzz:"原住址6",xzz:"现住址6"},{id:"7",username:"user5",nickname:"用户5",gender:2,deptName:"产品部",mobile:"13800138006",email:"123@qq.com",yzz:"原住址7",xzz:"现住址7"}],K.value=1,$.value=!1}),1e3)},Z=e=>{G.value=!0,y((()=>{H.value.init(e)}))},ee=e=>{const a=[e||Q.value].join(",");a?P.confirm(`确认删除${a}用户?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){$.value=!0,_.success("删除成功"),oe()}),(function(){_.info("已取消删除")})):_.warning("请勾选删除项")},ae=()=>{_.warning("导入")},le=()=>{_.warning("导出")},te=()=>{O.pageNum=1,X()},oe=()=>{M.value.resetFields(),te()};let re=e=>{Q.value=e.map((e=>e.id))};return(e,a)=>{const l=V,t=N,z=T,y=S,_=U,P=E,L=C,W=q,ie=w,se=h,ne=x,me=k,pe=o("hasPerm"),de=v;return i(),r("div",R,[s(me,{gutter:20},{default:n((()=>[m("div",Y,[s(L,{ref_key:"queryFormRef",ref:M,model:p(O),inline:!0,"label-width":"auto"},{default:n((()=>[s(t,{prop:"keywords"},{default:n((()=>[s(l,{modelValue:p(O).keywords,"onUpdate:modelValue":a[0]||(a[0]=e=>p(O).keywords=e),placeholder:"请输入用户名/昵称/手机号",clearable:"",onKeyup:d(te,["enter"])},null,8,["modelValue"])])),_:1}),s(t,{prop:"status"},{default:n((()=>[s(y,{modelValue:p(O).status,"onUpdate:modelValue":a[1]||(a[1]=e=>p(O).status=e),placeholder:"请选择状态",clearable:"",style:{width:"200px"}},{default:n((()=>[s(z,{label:"正常",value:1}),s(z,{label:"禁用",value:0})])),_:1},8,["modelValue"])])),_:1}),s(t,{label:"创建时间"},{default:n((()=>[s(_,{modelValue:p(O).createTime,"onUpdate:modelValue":a[2]||(a[2]=e=>p(O).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),s(t,{class:"search-buttons"},{default:n((()=>[s(P,{onClick:oe},{default:n((()=>a[8]||(a[8]=[u("重置查询")]))),_:1})])),_:1}),s(t,{class:"search-buttons"},{default:n((()=>[s(P,{type:"primary",icon:"search",onClick:te},{default:n((()=>a[9]||(a[9]=[u("搜索")]))),_:1})])),_:1})])),_:1},8,["model"])]),s(ne,{shadow:"hover",class:"data-table"},{default:n((()=>[m("div",A,[m("div",F,[s(P,{type:"success",icon:"plus",onClick:a[3]||(a[3]=e=>Z())},{default:n((()=>a[10]||(a[10]=[u("新增")]))),_:1}),s(P,{type:"danger",icon:"delete",disabled:0===p(Q).length,onClick:a[4]||(a[4]=e=>ee())},{default:n((()=>a[11]||(a[11]=[u(" 删除 ")]))),_:1},8,["disabled"])]),m("div",I,[s(P,{icon:"upload",onClick:ae},{default:n((()=>a[12]||(a[12]=[u("导入")]))),_:1}),s(P,{icon:"download",onClick:le},{default:n((()=>a[13]||(a[13]=[u("导出")]))),_:1})])]),c((i(),b(ie,{data:p(B),border:"","highlight-current-row":"",class:"data-table__content",onSelectionChange:p(re),"span-method":p(J)},{default:n((()=>[s(W,{type:"selection",width:"50",align:"center"}),s(W,{label:"用户名",align:"center",prop:"username"}),s(W,{label:"昵称",align:"center",prop:"nickname"}),s(W,{label:"性别",align:"center",prop:"gender"},{default:n((e=>{return[u(j((a=e.row.gender,2===a?"女":1===a?"男":"")),1)];var a})),_:1}),s(W,{label:"部门",align:"center",prop:"deptName"}),s(W,{label:"手机号码",align:"center",prop:"mobile"}),s(W,{label:"邮箱",align:"center",prop:"email"}),s(W,{label:"住址",align:"center"},{default:n((()=>[s(W,{label:"原住址",align:"center",prop:"yzz"}),s(W,{label:"现住址",align:"center",prop:"xzz"})])),_:1}),s(W,{label:"操作",align:"center",width:"220"},{default:n((e=>[c((i(),b(P,{type:"primary",icon:"edit",link:"",size:"small",onClick:a=>Z(e.row)},{default:n((()=>a[14]||(a[14]=[u(" 修改 ")]))),_:2},1032,["onClick"])),[[pe,"sys:user:edit"]]),c((i(),b(P,{type:"danger",icon:"delete",link:"",size:"small",onClick:a=>ee(e.row.id)},{default:n((()=>a[15]||(a[15]=[u(" 删除 ")]))),_:2},1032,["onClick"])),[[pe,"sys:user:delete"]])])),_:1})])),_:1},8,["data","onSelectionChange","span-method"])),[[de,p($)]]),p(K)>0?(i(),b(se,{key:0,total:p(K),"onUpdate:total":a[5]||(a[5]=e=>f(K)?K.value=e:K=e),page:p(O).pageNum,"onUpdate:page":a[6]||(a[6]=e=>p(O).pageNum=e),limit:p(O).pageSize,"onUpdate:limit":a[7]||(a[7]=e=>p(O).pageSize=e),onPagination:X},null,8,["total","page","limit"])):g("",!0)])),_:1})])),_:1}),s(D,{ref_key:"addOrUpdateRef",ref:H,visible:p(G),onRefreshDataList:te},null,8,["visible"])])}}});export{M as default};
