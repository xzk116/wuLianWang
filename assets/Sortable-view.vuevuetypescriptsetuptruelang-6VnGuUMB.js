import{ap as e,dH as a,U as o,d as t,r as s,dk as l,s as n,e as i,f as r,w as d,C as u,g as m,P as p,Q as c,F as f,m as v,a0 as g}from"./index-zthBmEkK.js";import{E as x}from"./dialog-6-GjAsZY.js";import"./overlay-OvfPWUSg.js";import{E as y}from"./button-BLdkehaO.js";import{d as b,u as j}from"./index-uYUNv0RB.js";import{S as h}from"./sortable.esm-BWBWMTnl.js";import{a as w,b as _}from"./index-St2EIjAZ.js";function k(t,s,l={}){let n;const{document:i=b,...r}=l,d={onUpdate:t=>{!function(t,s,l,n=null){null!=n&&((i=n.item).parentNode&&i.parentNode.removeChild(i),function(e,a,o){const t=e.children[o];e.insertBefore(a,t)}(n.from,n.item,s));var i;const r=e(t),d=r?[...a(t)]:a(t);if(l>=0&&l<d.length){const e=d.splice(s,1)[0];o((()=>{d.splice(l,0,e),r&&(t.value=d)}))}}(s,t.oldIndex,t.newIndex,t)}},u=()=>{const e="string"==typeof t?null==i?void 0:i.querySelector(t):j(t);e&&void 0===n&&(n=new h(e,{...d,...r}))},m=()=>{null==n||n.destroy(),n=void 0};return w(u),_(m),{stop:m,start:u,option:(e,a)=>{if(void 0===a)return null==n?void 0:n.option(e);null==n||n.option(e,a)}}}const C={style:{"user-select":"none"}},S={ref:"tableRef",class:"flex flex-col gap-2 p-4 w-300px h-200px m-auto bg-gray-500/5 rounded"},E={class:"text-center"},N={class:"dialog-footer"},U=t({__name:"Sortable-view",setup(e,{expose:a}){const t=s(!1),b=l("tableRef"),j=n([{id:1,name:"a"},{id:2,name:"b"},{id:3,name:"c"}]),h=e=>{t.value=!1};return a({init:()=>{t.value=!0,o((()=>{k(b,j,{animation:150})}))}}),(e,a)=>{const o=y,s=x;return r(),i(s,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value=e),title:"拖拽案例",width:"700","before-close":h},{footer:d((()=>[u("div",N,[v(o,{onClick:a[0]||(a[0]=e=>t.value=!1)},{default:d((()=>a[4]||(a[4]=[g("取消")]))),_:1}),v(o,{type:"primary",onClick:a[1]||(a[1]=e=>t.value=!1)},{default:d((()=>a[5]||(a[5]=[g(" 确定 ")]))),_:1})])])),default:d((()=>[u("div",C,[a[3]||(a[3]=u("p",null,"仅支持单个列表的拖拽排序",-1)),u("div",S,[(r(!0),m(p,null,c(j.value,(e=>(r(),m("div",{key:e.id,class:"h20 bg-gray-500/5 rounded p-3"},f(e.name),1)))),128))],512),u("div",E,f(JSON.stringify(j.value)),1)])])),_:1},8,["modelValue"])}}});export{U as _};
